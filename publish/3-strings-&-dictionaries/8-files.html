
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Python 101: Files</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
  <style>
  img {
    display: block;
    margin-bottom: 12px;
    max-width: 800px;
  }

  code {
    font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
    font-size: 14px;
  }
  
  .cm-editor {
    width: 100%;
    height: auto;
    border: 1px solid #ccc;
  }

  /* Code that's not in a pre block (inline code) */
  :not(pre) > code {
    background: #f0f0f0;
    color: #800;
    padding: 2px 4px;
    border-radius: 3px;
    white-space: nowrap;
  }
  
  body {
    padding-top: 70px; /* Add padding to prevent content from being hidden behind fixed navbar */
  }
  
  /* Article heading styles */
  .container h1 {
    margin-bottom: 1.5rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid #eaecef;
    font-weight: 600;
  }
  
  .container h2 {
    margin-top: 2rem;
    margin-bottom: 1.25rem;
    font-weight: 600;
  }
  
  .container h3 {
    margin-top: 1.5rem;
    margin-bottom: 1rem;
    font-weight: 600;
  }
  
  .container h4, .container h5, .container h6 {
    margin-top: 1.25rem;
    margin-bottom: 0.75rem;
    font-weight: 600;
  }
  
  /* Paragraph spacing */
  .container p, .container details {
    margin-bottom: 1.25rem;
    line-height: 1.6;
  }
  
  .site-header {
    background-color: #f8f9fa;
    box-shadow: 0 2px 4px rgba(0,0,0,.1);
  }
  .site-header a {
    color: #007bff;
    text-decoration: none;
    font-weight: bold;
    transition: color 0.2s ease;
  }
  .site-header a:hover {
    color: #0056b3;
    text-decoration: none;
  }
  .site-header .navbar-brand {
    font-size: 1.5rem;
    font-weight: 600;
  }
  
  /* Active navbar link */
  .navbar-nav .nav-link.active {
    color: #0056b3;
    font-weight: bold;
    border-bottom: 2px solid #0056b3;
  }
  
  /* Sidebar styles */
  .sidebar {
    position: fixed;
    top: 70px;
    left: 0;
    bottom: 0;
    width: 280px;
    z-index: 999;
    background: #f8f9fa;
    overflow-y: auto;
    transition: all 0.3s;
    padding: 20px 0;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
  }
  
  .sidebar.collapsed {
    margin-left: -280px;
  }
  
  .sidebar .nav-link {
    padding: 10px 20px;
    color: #333;
    border-left: 3px solid transparent;
  }
  
  .sidebar .nav-link:hover,
  .sidebar .nav-link.active {
    background: #e9ecef;
    border-left: 3px solid #007bff;
  }
  
  .sidebar .nav-link.active {
    font-weight: bold;
    color: #0056b3;
  }
  
  .sidebar-heading {
    font-size: 1.1rem;
    padding: 10px 20px;
    margin-top: 10px;
    font-weight: bold;
    color: #555;
  }
  
  .content-wrapper {
    margin-left: 0;
    transition: all 0.3s;
  }
  
  .content-wrapper.sidebar-open {
    margin-left: 280px;
  }
  
  /* Only apply sidebar margin on larger screens */
  @media (min-width: 992px) {
    .content-wrapper {
      margin-left: 280px;
    }
    
    .content-wrapper.sidebar-collapsed {
      margin-left: 0;
    }
    
    .sidebar {
      margin-left: 0;
    }
  }
  
  /* On mobile, sidebar covers content when open */
  @media (max-width: 991.98px) {
    .sidebar {
      margin-left: -280px;
    }
    
    .sidebar.expanded {
      margin-left: 0;
    }
  }
  
  </style>
</head>
<body>
<header class="site-header fixed-top">
  <nav class="navbar navbar-expand-lg navbar-light">
    <div class="container">
      <button id="sidebarToggle" class="btn btn-outline-primary me-2">
        <i class="bi bi-list"></i>
      </button>
      <a class="navbar-brand" href="/index.html">Python 101</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
</header>

<div class="sidebar" id="sidebar">
  <div class="sidebar-heading">Python Fundamentals</div>
  <ul class="nav flex-column">
    <li class="nav-item">
      <a class="nav-link" href="/1-python-fundamentals/0-unit-overview.html">Unit Overview</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/1-python-fundamentals/1-values-&-expressions.html">Values & Expressions</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/1-python-fundamentals/2-nested-call-expressions.html">Nested Call Expressions</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/1-python-fundamentals/3-names-&-variables.html">Names & Variables</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/1-python-fundamentals/4-functions.html">Functions</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/1-python-fundamentals/5-exercise-functions.html">Exercise: Functions</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/1-python-fundamentals/6-more-on-functions.html">More on Functions</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/1-python-fundamentals/7-logical-expressions.html">Logical Expressions</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/1-python-fundamentals/8-exercise-logical-expressions.html">Exercise: Logical Expressions</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/1-python-fundamentals/9-conditionals.html">Conditionals</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/1-python-fundamentals/10-exercise-conditionals.html">Exercise: Conditionals</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/1-python-fundamentals/11-user-input.html">User Input</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/1-python-fundamentals/12-project-1-algorithms-as-decision-makers.html">Project 1: Algorithms as Decision Makers</a>
    </li>
  </ul>
  
  <div class="sidebar-heading">Loops & Lists</div>
  <ul class="nav flex-column">
    <li class="nav-item">
      <a class="nav-link" href="/2-loops-&-lists/0-unit-overview.html">Unit Overview</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/2-loops-&-lists/1-while-loops.html">While Loops</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/2-loops-&-lists/2-exercise-while-loops.html">Exercise: While Loops</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/2-loops-&-lists/3-for-loops-&-ranges.html">For Loops & Ranges</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/2-loops-&-lists/4-lists.html">Lists</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/2-loops-&-lists/5-looping-through-sequences.html">Looping Through Sequences</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/2-loops-&-lists/6-exercise-loops-and-lists.html">Exercise: Loops and Lists</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/2-loops-&-lists/7-list-mutation.html">List Mutation</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/2-loops-&-lists/7b-exercise-list-mutation.html">Exercise: List Mutation</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/2-loops-&-lists/8-more-on-lists.html">More on Lists</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/2-loops-&-lists/9-nested-lists.html">Nested Lists</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/2-loops-&-lists/10-exercise-nested-lists.html">Exercise: Nested Lists</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/2-loops-&-lists/11-project-2-photo-filters.html">Project 2: Photo Filters</a>
    </li>
  </ul>
  
  <div class="sidebar-heading">Strings & Dictionaries</div>
  <ul class="nav flex-column">
    <li class="nav-item">
      <a class="nav-link" href="/3-strings-&-dictionaries/0-unit-overview.html">Unit Overview</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/3-strings-&-dictionaries/1-string-formatting.html">String Formatting</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/3-strings-&-dictionaries/2-exercise-string-formatting.html">Exercise: String Formatting</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/3-strings-&-dictionaries/3-string-operations.html">String Operations</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/3-strings-&-dictionaries/4-exercise-string-operations.html">Exercise: String Operations</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/3-strings-&-dictionaries/5-dictionaries.html">Dictionaries</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/3-strings-&-dictionaries/6-exercise-dictionaries.html">Exercise: Dictionaries</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/3-strings-&-dictionaries/7-randomness.html">Randomness</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/3-strings-&-dictionaries/8-files.html">Files</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/3-strings-&-dictionaries/9-project-3-text-generator.html">Project 3: Text Generator</a>
    </li>
  </ul>
  
  <div class="sidebar-heading">Object-Oriented Programming</div>
  <ul class="nav flex-column">
    <li class="nav-item">
      <a class="nav-link" href="/4-object-oriented-programming/0-unit-overview.html">Unit Overview</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/4-object-oriented-programming/1-object-oriented-programming.html">Object-Oriented Programming</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/4-object-oriented-programming/2-classes.html">Classes</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/4-object-oriented-programming/3-exercise-classes.html">Exercise: Classes</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/4-object-oriented-programming/4-more-on-classes.html">More on Classes</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/4-object-oriented-programming/5-exercise-more-on-classes.html">Exercise: More on Classes</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/4-object-oriented-programming/6-inheritance.html">Inheritance</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/4-object-oriented-programming/7-exercise-inheritance.html">Exercise: Inheritance</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/4-object-oriented-programming/8-more-on-inheritance.html">More on Inheritance</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/4-object-oriented-programming/9-exercise-more-on-inheritance.html">Exercise: More on Inheritance (Optional)</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/4-object-oriented-programming/10-composition.html">Composition</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/4-object-oriented-programming/11-polymorphism.html">Polymorphism</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/4-object-oriented-programming/12-project-4-oop-quiz.html">Project 4: OOP Quiz</a>
    </li>
  </ul>
</div>

<div class="content-wrapper" id="content">
  <div class="container container-md">
    
<h1>Files</h1>
<p>One source of input for computer programs is a file stored in the local file system. You could write a program that checked a text document for spelling errors, or like you did in project 2, a program to apply filters to an image file.</p>
<p>There are two types of files:</p>
<p><strong>Text files</strong> contain one or more lines that contain text characters, encoded according to a character encoding (like UTF-8). Each line in a text file ends with a control character. Unfortunately, the character varies based on the operating system. When a text file is created on a Mac, lines end with <code>"\n"</code>. For Unix-created files, lines end with <code>"\r"</code>. And annoyingly, on Windows, lines end with both characters, <code>"\r\n"</code>. We'll need to keep this in mind when we read a file, if we're trying to break it up into lines.</p>
<p>Anything that's not a text file is a <strong>binary file</strong>. The bytes in a binary file are intended to be interpreted in some other way, typically dictated by the file extension. For example, all of these are binary files:</p>
<ul><li><p>Images (with extensions such as GIF/JPG/PNG)</p></li>
<li><p>Audio (e.g. WAV/MP3)</p></li>
<li><p>Video (e.g. MOV/MP4)</p></li>
<li><p>Compressed files (e.g. ZIP/RAR)</p></li></ul>
<h3>Handling files</h3>
<p>This is the general 3-step process for handling files in Python:</p>
<ol><li><p>Open the file</p></li>
<li><p>Either read data from file or write data to file</p></li>
<li><p>Close the file</p></li></ol>
<p>It's necessary to explicitly close the file at the end, since if you don't, the operating system won't let any other processes mess with that file.</p>
<p>Let's see how to write the code to make those steps happen.</p>
<h3>Opening files</h3>
<p>The global built-in function <a target="_blank" href="https://docs.python.org/3/library/functions.html#open"><code>open(file, mode)</code></a> opens a file and returns a file object. The first argument is the path to the file, while the second argument specifies what we want to do with that file, like read or write it. The following code opens "myinfo.txt" in a read-only mode:</p>
<pre><code>open("myinfo.txt", mode="r")</code></pre>
<p>Here are the most common modes:</p>
<p>Mode Meaning Description r Read If the file does not exist, this raises an error. w Write If the file does not exist, this mode creates it. If file already exists, this mode deletes all data. a Append If the file does not exist, this mode creates it. If file already exists, this mode appends data to end of existing data. b Binary Use for binary files along with r or w more.</p>
<p>The function also takes additional optional arguments and modes, described in <a target="_blank" href="https://docs.python.org/3/library/functions.html#open">the docs</a>.</p>
<h3>Reading the file</h3>
<p>Once we have a file object, there are several methods that we can use to read the contents of the file.</p>
<p>The <code>read</code> method reads the entire contents of the file into a string:</p>
<pre><code>my_file = open("myinfo.txt", mode="r")
my_info = my_file.read()</code></pre>
<p>The <code>readlines</code> method reads the contents into a list of strings, where each string is a line of the file. That's handy since it takes care of the cross-OS issues with different line end characters (<code>"\r"</code> vs. <code>"\n"</code>).</p>
<pre><code>my_file = open("myinfo.txt", mode="r")
file_lines = my_file.readlines()

for line in file_lines:
    print(line)</code></pre>
<p>Python also provides an option for reading a file <strong>lazily</strong> - just one line at a time - by using a <code>for</code> loop.</p>
<pre><code>rows = []
my_file =  open("longbook.txt", mode="r")
for line in my_file:
    rows.append(line)</code></pre>
<p>If we allow that loop to iterate all the way to the end of the file, then there's no difference between that and <code>readlines</code>. However, we could break out of the loop once we've found something in the file, like so:</p>
<pre><code>rows = []
my_file =  open("longbook.txt", mode="r")
for line in my_file:
    rows.append(line)
     if line.find('Chapter 2') > -1:
            break</code></pre>
<p>This is a great approach for very long text files, since it means you don't have to read the whole darn file into memory.</p>
<h3>Writing files</h3>
<p>To write a file, we need to first open it in either the "w" mode, which will empty out the file upon opening it, or the "a" mode, which will keep the prior contents but append additional data to the end.</p>
<p>Overwriting the entire file:</p>
<pre><code>my_file = open("myinfo.txt", mode="w")
my_file.write("Birth city: Pasadena, CA")</code></pre>
<p>Appending to the existing file contents:</p>
<pre><code>my_file = open("myinfo.txt", mode="a")
my_file.write("First pet: Rosarita (Rabbit)")</code></pre>
<h3>Closing files</h3>
<p>Finally, once we're done reading or writing, we need to close the file. The <code>close()</code> method closes the file, ending all operations and freeing up resources.</p>
<pre><code>my_file = open("myinfo.txt", mode="r")
my_file.close()</code></pre>
<p>A fairly different approach is to use a <code>with</code> statement to open the file, and then put all the reading and writing calls inside the body of the statement.</p>
<pre><code>with open("myinfo.txt", mode="r") as my_file:
    lines = my_file.readlines()
    my_file.close()

print(lines)</code></pre>
<p>Once all the statements indented inside the <code>with</code> block are executed, Python takes care of closing the file for you. Any code that runs after the <code>with</code> block would not be able to read or write that file, since it's no longer open.</p>
<p>Some programmers prefer the second approach since you only need to remember to open the file. But either approach is fine, whatever floats your boat! 🛶</p>
<h3>Online files</h3>
<p>The <code>open(path)</code> function only works for opening local files in the file system. What if there's a file online that you want to work with? I actually work more with online files than local files, myself!</p>
<p>In the Python standard library, the <code>urllib.request</code> module includes a <code>urlopen(url)</code> function in the urllib module that can open a file at a URL and return a file-like object.</p>
<p>This code opens a text file that contains an entire book, <a target="_blank" href="https://www.gutenberg.org/ebooks/1184">The Count of Monte Cristo</a>:</p>
<pre><code>import urllib.request

text_file = urllib.request.urlopen('https://www.gutenberg.org/cache/epub/1184/pg1184.txt')</code></pre>
<p>Once the file is opened, we can use similar methods as discussed above.</p>
<p>This line of code reads the whole book into a single string:</p>
<pre><code>whole_book = text_file.read()</code></pre>
<p>However, there's one significant difference between that string and the string returned when reading a local file. The variable above now stores a <strong>byte string</strong>, which Python displays with a lowercase b in front:</p>
<pre><code>b'\xef\xbb\xbfThe Count of Monte Cristo, by Alexandre Dumas, p\xc3\xa8re.'</code></pre>
<p>A byte string is a series of bytes (8-bit sequences), which is how computers actually store data behind the strings. Python byte strings do allow the first 128 bytes to be shown as letters, but there are thousands of characters beyond those. That's why character encodings exist, to specify how a sequence of bytes corresponds to a particular character. The most common encoding is UTF-8, especially for files in English or European languages.</p>
<p>In order to translate that byte string into a string of characters, we must know the encoding of the original data, and then call <code>decode(encoding)</code> on the byte string.</p>
<p>Since that book file was indeed encoded with UTF-8, we can decode it like this:</p>
<pre><code>whole_book = whole_book.decode('utf-8')</code></pre>
<p>Now, instead of seeing <code>b'p\xc3\xa8re'</code>, we'll see 'père' in the string.</p>
<p>Once decoded, we can use string operations on it, such as using <code>split</code> to turn it into a list of lines.</p>

  </div>
</div>

<script src="//cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
<script>
  // Sidebar toggle functionality
  document.addEventListener('DOMContentLoaded', function() {
    const sidebar = document.getElementById('sidebar');
    const content = document.getElementById('content');
    const sidebarToggle = document.getElementById('sidebarToggle');
    
    // Function to toggle sidebar
    function toggleSidebar() {
      if (window.innerWidth >= 992) {
        // On desktop
        sidebar.classList.toggle('collapsed');
        content.classList.toggle('sidebar-collapsed');
      } else {
        // On mobile
        sidebar.classList.toggle('expanded');
      }
    }
    
    // Add click event to toggle button
    sidebarToggle.addEventListener('click', toggleSidebar);
    
    // Set initial state based on screen size
    function setInitialState() {
      if (window.innerWidth < 992) {
        sidebar.classList.remove('collapsed');
        sidebar.classList.remove('expanded');
        content.classList.remove('sidebar-collapsed');
      }
    }
    
    // Set initial state on page load
    setInitialState();
    
    // Update on window resize
    window.addEventListener('resize', setInitialState);
    
    // Highlight active link in navbar and sidebar
    const currentPath = window.location.pathname;
    
    // Find all links in the navbar and sidebar
    const navLinks = document.querySelectorAll('.navbar-nav .nav-link');
    const sidebarLinks = document.querySelectorAll('.sidebar .nav-link');
    
    // Function to check if a link corresponds to the current page
    function isActivePage(linkHref) {
      // Get the path from the href
      const linkPath = new URL(linkHref, window.location.origin).pathname;
      
      // Extract just the filename part from both paths
      const currentFile = currentPath.split('/').pop();
      const linkFile = linkPath.split('/').pop();
      
      // Exact match for the full path
      if (currentPath === linkPath) {
        return true;
      }
      
      // Exact match for the filename
      if (currentFile === linkFile) {
        return true;
      }
      
      return false;
    }
    
    // Highlight active navbar link
    navLinks.forEach(link => {
      const href = link.getAttribute('href');
      if (href) {
        // Extract section number (e.g., "1-python-fundamentals") from both paths
        const linkSection = href.split('/').filter(part => part.match(/^\d-/))[0];
        const currentSection = currentPath.split('/').filter(part => part.match(/^\d-/))[0];
        
        // If we're in the same section, highlight this navbar link
        if (linkSection && currentSection && linkSection === currentSection) {
          link.classList.add('active');
          link.setAttribute('aria-current', 'section');
        }
      }
    });
    
    // Highlight active sidebar link
    sidebarLinks.forEach(link => {
      const href = link.getAttribute('href');
      if (href && isActivePage(href)) {
        link.classList.add('active');
        link.setAttribute('aria-current', 'page');
        
        // Expand section if it's in a collapsed section
        const parentUl = link.closest('ul');
        if (parentUl) {
          parentUl.classList.add('show');
        }
      }
    });
    
    // Debug info
    console.log('Current path:', currentPath);
    console.log('Current file:', currentPath.split('/').pop());
    
    // Initialize syntax highlighting
    document.querySelectorAll('pre code').forEach((el) => {
      hljs.highlightElement(el);
    });
  });
</script>


</body>
</html>