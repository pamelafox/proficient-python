{% extends "_base.html.jinja2" %}
{% block title %}Dictionaries{% endblock %}
{% block content %}
<h1>Dictionaries</h1>
<p>Another data type in Python (and my personal favorite) is the dictionary. Similar to how an actual dictionary maps words to definitions, a Python dictionary maps keys to values.</p>
<p>Here's how we could make a mini slang dictionary using a Python dictionary:</p>
<pre><code>slang_dictionary = {
   "yeet": "An expression of excitement or a verb signifying throwing something",
   "flex": "A verb, meaning to show off something",
   "slay": "A verb indicating someone did something very well in something",
   "sus": "Abbreviation for 'suspicious'",
   "salty": "Angry, upset, or bitter"
}</code></pre>
<p>It's very easy to look up the value in a dictionary when we know the key, using another kind of bracket notation. Instead of specifying an index in the square brackets like we did for lists, we instead specify the key:</p>
<pre><code>slang_dictionary["flex"]   # 'A verb, meaning to show off something'</code></pre>
<p>You might be wondering why we don't just use a list or nested list, perhaps like this:</p>
<pre><code>slang_dictionary = [
   ["yeet", "An expression of excitement or a verb signifying throwing something"],
   ["flex", "A verb, meaning to show off something"]
]</code></pre>
<p>We could certainly find the definition of "flex" in that nested list, by either iterating through and checking values or by using a list method like <code>find()</code>. However, it would be a much slower operation, due to the differences in the ways Python lists and dictionaries are stored. If there were 10,000 sublists in that nested list, and the word we're looking for was at the end of the list, the computer would have to search through every single sublist. However, if there were 10,000 keys in a dictionary, and we looked up a word, the computer can find it immediately.</p>
<p>In conclusion: if you think that you are going to be frequently looking up something according to its key, a dictionary is typically the right data type to use.</p>
<h3>Dictionary access</h3>
<p>Let's dive more into how we can retrieve values from a dictionary (or <code>dict</code>, as it's formally known in Python).</p>
<p>Consider this dict that maps Spanish words to their English translations:</p>
<pre><code>words = {
    "m√°s": "more",
    "otro": "other",
    "agua": "water"
}</code></pre>
<p>We can retrieve a value by using bracket notation with the key inside the brackets, as shown above:</p>
<pre><code>words["otro"]  # 'other'</code></pre>
<p>However, we might sometimes have the key inside a variable. In that case, the variable name would go inside the brackets:</p>
<pre><code>first_word = "agua"
words[first_word]  # 'water'</code></pre>
<p>Basically, any expression can go inside those square brackets, as long as it eventually evaluates into a valid key.</p>
<p>If we ask for a key that's not there, we'll get a big old error.</p>
<pre><code>words["pavo"]  # üö´ Error!</code></pre>
<p>Fortunately, there's another approach if we're not sure about a key's existence. Python dicts have a <code>get</code> method that will retrieve a value if the key exists, and will otherwise default to whatever value you specify.</p>
<p>In this example, the default is a thinking face emoji:</p>
<pre><code>words.get("pavo", "ü§î")  # 'ü§î'</code></pre>
<p>If we specify no default, then <code>None</code> is returned:</p>
<pre><code>words.get("pavo") # None</code></pre>
<h3>Dictionary mutation</h3>
<p>Just like lists, dictionaries are <strong>mutable</strong> data types. That means that we can continue modifying their contents after we initially create them, using various operators and methods.</p>
<p>A common way to use dictionaries is to start with an empty dict like so:</p>
<pre><code>users = {}</code></pre>
<p>And then add a value to it, using bracket notation:</p>
<pre><code>users["pamelafox"] = "b3stp@ssEvErDontHackMe"</code></pre>
<p>We can keep re-assigning a key to new values in the same way:</p>
<pre><code>users["pamelafox"] = "EV3Nb3tt3Rp@ssw0rd!"</code></pre>
<p>We can even use the <code>+=</code> operator to add to an existing value, as long as it's a number or a string:</p>
<pre><code>users["pamelafox"] += "itsLongerSoItsMoreSecure!!"</code></pre>


      <single-question-quiz-element name="dictionaries-users-value">
        <form class="bg-light rounded p-4">
          <div class="d-flex align-items-center mb-4">
            <h2 class="h5 mb-0" style="font-size: smaller; text-transform: uppercase">üß† Check Your Understanding</h2>
          </div>
          <div class="quiz-question" data-shuffle>
            <div class="mb-4 fw-bold">
              <p>What value would <code>users["pamelafox"]</code> retrieve now?</p>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="quizOptions"
                id="option-a401f649-961c-45db-9067-6bc8e0693d81"
                value="0"
                data-correct="false" />
              <label class="form-check-label" for="option-a401f649-961c-45db-9067-6bc8e0693d81"
                ><p>'b3stp@ssEvErDontHackMe'</p>
              </label>
              <aside class="alert alert-danger mt-2" style="display: none">
                <p>This was the original value, but it was changed (twice).</p>
              </aside>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="quizOptions"
                id="option-a2b40b73-6173-4e0f-b4a3-018cf302e5a9"
                value="1"
                data-correct="false" />
              <label class="form-check-label" for="option-a2b40b73-6173-4e0f-b4a3-018cf302e5a9"
                ><p>'EV3Nb3tt3Rp@ssw0rd!'</p>
              </label>
              <aside class="alert alert-danger mt-2" style="display: none">
                <p>This was the second value, but it was changed after.</p>
              </aside>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="quizOptions"
                id="option-f7877967-77e1-4bd1-a5d5-11cb201cb183"
                value="2"
                data-correct="false" />
              <label class="form-check-label" for="option-f7877967-77e1-4bd1-a5d5-11cb201cb183"
                ><p>'itsLongerSoItsMoreSecure!!'</p>
              </label>
              <aside class="alert alert-danger mt-2" style="display: none">
                <p>
                  The final line of code added this string to the existing value using <code>+=</code>, so the value should
                  start with 'EV3Nb3tt3Rp@ssw0rd!' and end with this string.
                </p>
              </aside>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="quizOptions"
                id="option-b7cc38ae-54c2-4609-a237-17e966c58c96"
                value="3"
                data-correct="true" />
              <label class="form-check-label" for="option-b7cc38ae-54c2-4609-a237-17e966c58c96"
                ><p>'EV3Nb3tt3Rp@ssw0rd!itsLongerSoItsMoreSecure!!'</p>
              </label>
              <aside class="alert alert-success mt-2" style="display: none"><p>You got it!</p></aside>
            </div>
            <div class="mt-3">
              <button type="submit" class="btn btn-primary" data-action="submit">Submit Answer</button>
              <button type="button" class="btn btn-secondary" style="display: none" data-action="reset">Start over</button>
            </div>
          </div>
        </form>
      </single-question-quiz-element>
      
<h3>What's in a dict?</h3>
<p>All of our example dicts so far have been using string keys and string values. However, it is possible to use <em>any</em> immutable type as a key - so the keys could actually be numbers! It's not nearly as common, but it is possible.</p>
<p>Consider this dict that maps years to the Pixar movie that came out that year:</p>
<pre><code>pixar_by_year = {
   1995: "Toy Story",
   1998: "A Bug's Life",
   1999: "Toy Story 2",
   2001: "Monsters, Inc",
   2003: "Finding Nemo"
}</code></pre>
<p>The values can be any type at all, including mutable types like lists.</p>
<p>Here's a dict for more recent Pixar films, where the values need to be lists since multiple films are released in some years:</p>
<pre><code>pixar_by_year = {
   2017: ["Coco", "Cars 3"],
   2018: ["Incredibles 2"],
   2019: ["Toy Story 4"],
   2020: ["Soul", "Onward"]
}</code></pre>
<p>We could mix-and-match, and have some values be strings and other values be lists, but it's usually better to stick with a consistent schema.</p>
<p>The values can even be nested dictionaries, making dicts an ideal way to store hierarchical data.</p>
<p>Here's a dict of my favorite spiders, with some properties of each one inside nested dicts:</p>
<pre><code>spiders = {
  "smeringopus": {
      "name": "Pale Daddy Long-leg",
      "length": 7
  },
  "holocnemus pluchei": {
      "name": "Marbled cellar spider",
      "length": (5, 7)
  }
}</code></pre>

      <single-question-quiz-element name="dictionaries-spiders-access">
        <form class="bg-light rounded p-4">
          <div class="d-flex align-items-center mb-4">
            <h2 class="h5 mb-0" style="font-size: smaller; text-transform: uppercase">üß† Check Your Understanding</h2>
          </div>
          <div class="quiz-question">
            <div class="mb-4 fw-bold">
              <p>What expression would retrieve the name "Marbled cellar spider" from the <code>spiders</code> dict?</p>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                name="quizOptions"
                id="option-0543151a-cc13-4170-9dfe-47d25f74fa4e"
                value="0"
                data-correct="false" />
              <label class="form-check-label" for="option-0543151a-cc13-4170-9dfe-47d25f74fa4e">
                <p><code>spiders[1]["name"]</code></p>
              </label>
              <aside class="alert alert-danger mt-2" style="display: none">
                <p>‚ùå The values must be retrieved by key, not by index. Dictionaries don't have indices.</p>
              </aside>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                name="quizOptions"
                id="option-51855d47-cdc9-44af-b32a-1ccbac324120"
                value="1"
                data-correct="true" />
              <label class="form-check-label" for="option-51855d47-cdc9-44af-b32a-1ccbac324120">
                <p><code>spiders["holocnemus pluchei"]["name"]</code></p>
              </label>
              <aside class="alert alert-success mt-2" style="display: none">
                <p>‚úÖ That's one way to retrieve it, yep!</p>
              </aside>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                name="quizOptions"
                id="option-328057b7-d406-4df8-889f-7216d2674e50"
                value="2"
                data-correct="false" />
              <label class="form-check-label" for="option-328057b7-d406-4df8-889f-7216d2674e50">
                <p><code>spiders["holocnemus pluchei"].name</code></p>
              </label>
              <aside class="alert alert-danger mt-2" style="display: none">
                <p>‚ùå Bracket notation must be used with the keys, not dot notation.</p>
              </aside>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                name="quizOptions"
                id="option-5ef3f03d-952a-4fde-be79-fb3317fcbafc"
                value="3"
                data-correct="false" />
              <label class="form-check-label" for="option-5ef3f03d-952a-4fde-be79-fb3317fcbafc">
                <p><code>spiders[1][0]</code></p>
              </label>
              <aside class="alert alert-danger mt-2" style="display: none">
                <p>‚ùå The values must be retrieved by key, not by index. Dictionaries don't have indices.</p>
              </aside>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                name="quizOptions"
                id="option-126f9e1f-6ff9-49c3-9bcf-a5936f16590c"
                value="4"
                data-correct="false" />
              <label class="form-check-label" for="option-126f9e1f-6ff9-49c3-9bcf-a5936f16590c">
                <p><code>spiders.get("holocnemus pluchei").get("name")</code></p>
              </label>
              <aside class="alert alert-success mt-2" style="display: none">
                <p>‚úÖ This expression is longer than the option that uses bracket notation, but it also works.</p>
              </aside>
            </div>
            <div class="mt-3">
              <button type="submit" class="btn btn-primary" data-action="submit">Submit Answer</button>
              <button type="button" class="btn btn-secondary" style="display: none" data-action="reset">Start over</button>
            </div>
          </div>
        </form>
      </single-question-quiz-element>

<h3>Dictionary iteration</h3>
<p>A Python dict is an iterable object, which means it can be iterated over using a <code>for</code> loop. In each iteration of the loop, the loop variable is assigned to the current key, and the loop body can choose what to do with that key.</p>
<p>For example, this loop prints out each value by doing dictionary a lookup with the key:</p>
<pre><code>insects = {"spiders": 8, "centipedes": 100, "bees": 6}
for name in insects:
    print(insects[name])</code></pre>
<p>What will be the order of the keys during the iteration? In younger versions of Python, the order was not defined, so the iteration might go through the keys in any order. However, in modern Python, the order is always according to when the keys were added to the dictionary.</p>
<p>In the example above, the order would be "spiders", then "centipedes", then "bees", so the loop would print 8, then 100, then 6.</p>
<h3>Dictionary operations</h3>
<p>Dictionaries support some of the same operators and functions as strings and lists.</p>
<p>Starting with this dict that maps US state codes to states:</p>
<pre><code>states = {
    "CA": "California",
    "DE": "Delaware",
    "NY": "New York",
    "TX": "Texas",
    "WY": "Wyoming"
}</code></pre>
<p>The <code>len()</code> function reports how many key/value pairs are the dict.</p>
<pre><code>len(states)  # 5</code></pre>
<p>The <code>in</code> operator reports whether or not a particular key is in a dict (it will <em>not</em> look for values):</p>
<pre><code>"CA" in states  # True
"ZZ" in states  # False</code></pre>
<p>There are also additional functions, operators, and methods for dicts that we won't dive into here. You can learn more in the <a target="_blank" href="https://docs.python.org/3/library/stdtypes.html#dict">Python dict documentation</a>.</p>
<h3>Exercise: Make a recipe</h3>
<p>In the code editor below, create a dict to hold information on your favorite recipe. It should have keys for:</p>
<ul><li><p>title (a string)</p></li>
<li><p>servings (a number)</p></li>
<li><p>ingredients (a list of strings).</p></li></ul>
<p>Once the dict is created, use bracket notation to pull value back out of the dict and print them out.</p>
<pre><code>recipe = {
  # Put title key/value here - value should be a string
  # Put servings key/value here - value should be a number
  # Put ingredients key/value here - value should be a list
}

# Store the recipe's title in this variable
# by using bracket notation on the recipe variable
title = ''
print(title)

# Store the recipe's servings # in this variable
# by using bracket notation on the recipe variable
servings = -1
print(servings)

# Store the recipe's ingredients list in this variable
# by using bracket notation on the recipe variable
ingredients = []
print(ingredients)</code></pre>
{% endblock %}

{% block footer_scripts %}
<script src="https://cdn.jsdelivr.net/npm/single-question-quiz-element@0.1.5/dist/single-question-quiz-element.umd.min.js"></script>
{% endblock %}